<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by perltidy on Thu Nov 30 18:10:54 2006 -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>2006 Perl Advent Calendar: Happy Holidays You Bastard</title>
<link rel="stylesheet" href="../style.css" type="text/css" /></head>
<body>
<h1><a href="../">Perl Advent Calendar 2006-12</a>-23</h1>
<h2 align="center">Happy Holidays You Bastard</h2>
<h3 align="center">by Jerrad Pierce</h3>

Last year we looked at <tt><a href="../../2005/19/">Test::Perl::Critic</a></tt>,
today we present an alternate and potentially more convenient means of
interacting with <tt>Perl::Critic</tt> to enforce adherence to best practices:
<tt><A HREF="http://search.cpan.org/search?module=criticism">criticism</a></tt>.
<tt>criticism</tt> is a pragma with specifiable levels of severity which will
invoke <tt>Perl::Critic</tt> upon each execution of your code, even insisting
that <tt>strict</tt> be enabled. Of course all of these tests exact a 
performance penalty that would be unacceptable in production. Luckily, the
module handles this cleverly, allowing the same code to be used in development
and production without modification. If <tt>Perl::Critic</tt> is not available
loading <tt>criticism</tt> is essentially a no-op.
</p>

<pre>$ perl mod23.pl<span class="c">
RCS keywords $Id$ not found at a line 1
RCS keywords $Revision$, $HeadURL$, $Date$ not found at a line 1
RCS keywords $Revision$, $Source$, $Date$ not found at a line 1
No "VERSION" variable found at a line 1
Code not contained in explicit package at a line 1
Code not contained in explicit package at a line 2
Code not contained in explicit package at a line 3
Code not contained in explicit package at a line 5
Double-sigil dereference at a line 6
Module does not end with "1;" at a line 6
Code not contained in explicit package at a line 6
</span></pre>

<p>Note, however, that there appears to be an undocumented dependency in v.04
In my testing, the brutal criticisms above are not issued if <tt>warnings</tt>
are also not enabled. This does not appear to affect any other levels of
severity, each of which emits fewer messages through to <tt>'gentle'</tt>
which does not balk at the code at all.</p>

<h1><a href="mod23.pl">mod23.pl</a></h1>
<hr />
<pre>
   1 <span class="k">use</span> <span class="w">criticism</span> <span class="q">'brutal'</span><span class="sc">;</span>
   2 <span class="k">use</span> <span class="w">strict</span><span class="sc">;</span>
   3 <span class="k">use</span> <span class="w">warnings</span><span class="sc">;</span>
   4 
   5 <span class="i">$a</span> = <span class="k">sub</span><span class="s">{</span> <span class="s">}</span><span class="sc">;</span>
   6 <span class="i">&amp;$a</span><span class="sc">;</span>
</pre>

</body>
</html>
